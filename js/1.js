!function(){"use strict";(t=>{const{screen:{width:e,height:a},navigator:{language:n,doNotTrack:r,msDoNotTrack:i},location:o,document:s,history:c,top:u,doNotTrack:d}=t,{currentScript:l,referrer:h}=s;if(!l)return;const{hostname:f,href:m,origin:p}=o,y=m.startsWith("data:")?void 0:t.localStorage,g="data-",b="true",v=l.getAttribute.bind(l),w=v(g+"website-id"),S=v(g+"host-url"),k=v(g+"before-send"),N=v(g+"tag")||void 0,T="false"!==v(g+"auto-track"),A=v(g+"do-not-track")===b,j=v(g+"exclude-search")===b,x=v(g+"exclude-hash")===b,$=v(g+"domains")||"",E=$.split(",").map(t=>t.trim()),K=`${(S||"https://api-gateway.umami.dev").replace(/\/$/,"")}/api/send`,L=`${e}x${a}`,O=/data-umami-event-([\w-_]+)/,_=g+"umami-event",D=()=>({website:w,screen:L,language:n,title:s.title,hostname:f,url:R,referrer:q,tag:N,id:P||void 0}),U=(t,e,a)=>{a&&(q=R,R=new URL(a,o.href),j&&(R.search=""),x&&(R.hash=""),(R=R.toString())!==q&&setTimeout(I,300))},W=()=>F||!w||y&&y.getItem("umami.disabled")||$&&!E.includes(f)||A&&(()=>{const t=d||r||i;return 1===t||"1"===t||"yes"===t})(),B=async(e,a="event")=>{if(W())return;const n=t[k];if("function"==typeof n&&(e=n(a,e)),e)try{const t=await fetch(K,{keepalive:!0,method:"POST",body:JSON.stringify({type:a,payload:e}),headers:{"Content-Type":"application/json",...void 0!==J&&{"x-umami-cache":J}},credentials:"omit"}),n=await t.json();n&&(F=!!n.disabled,J=n.cache)}catch(t){}},C=()=>{z||(z=!0,I(),(()=>{const t=(t,e,a)=>{const n=t[e];return(...e)=>(a.apply(null,e),n.apply(t,e))};c.pushState=t(c,"pushState",U),c.replaceState=t(c,"replaceState",U)})(),(()=>{const t=async t=>{const e=t.getAttribute(_);if(e){const a={};return t.getAttributeNames().forEach(e=>{const n=e.match(O);n&&(a[n[1]]=t.getAttribute(e))}),I(e,a)}};s.addEventListener("click",async e=>{const a=e.target,n=a.closest("a,button");if(!n)return t(a);const{href:r,target:i}=n;if(n.getAttribute(_)){if("BUTTON"===n.tagName)return t(n);if("A"===n.tagName&&r){const a="_blank"===i||e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button;return a||e.preventDefault(),t(n).then(()=>{a||(("_top"===i?u.location:o).href=r)})}}},!0)})())},I=(t,e)=>B("string"==typeof t?{...D(),name:t,data:e}:"object"==typeof t?{...t}:"function"==typeof t?t(D()):D());t.umami||(t.umami={track:I,identify:(t,e)=>("string"==typeof t&&(P=t),J="",B({...D(),data:"object"==typeof t?t:e},"identify"))});let J,P,R=m,q=h.startsWith(p)?"":h,z=!1,F=!1;T&&!W()&&("complete"===s.readyState?C():s.addEventListener("readystatechange",C,!0))})(window)}();